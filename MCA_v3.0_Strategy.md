# Moonwave MCA v3.0 ì „ëµ ê³„íšì„œ

## ê°œìš”

| í•­ëª© | í˜„ì¬ (v2.0) | ëª©í‘œ (v3.0) |
|------|-------------|-------------|
| **ì•„í‚¤í…ì²˜** | ë‹¨ì¼ HTML (1,045ì¤„) | ëª¨ë“ˆí˜• PWA |
| **ì €ì¥ì†Œ** | LocalStorage (5MB ì œí•œ) | IndexedDB (ë¬´ì œí•œ) |
| **ì˜¤í”„ë¼ì¸** | ë¯¸ì§€ì› | ì™„ì „ ì§€ì› |
| **ì„¤ì¹˜** | ë¶ˆê°€ | í™ˆ í™”ë©´ ì„¤ì¹˜ ê°€ëŠ¥ |
| **ì„±ëŠ¥** | ë™ê¸° ì²˜ë¦¬ | Web Worker ë¹„ë™ê¸° |
| **íƒ€ì… ì•ˆì „ì„±** | JavaScript | TypeScript |

---

## Part 1: ì•„í‚¤í…ì²˜ í˜„ëŒ€í™”

### 1.1 í˜„ì¬ ë‹¨ì¼ HTMLì˜ í•œê³„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  MCA_v2.html (1,045 Lines)                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  âŒ ì½”ë“œ ìœ ì§€ë³´ìˆ˜ ì–´ë ¤ì›€                                      â”‚
â”‚  âŒ í…ŒìŠ¤íŠ¸ ë¶ˆê°€ëŠ¥                                            â”‚
â”‚  âŒ ìºì‹± ìµœì í™” ë¶ˆê°€                                         â”‚
â”‚  âŒ ì½”ë“œ ì¬ì‚¬ìš© ë¶ˆê°€                                         â”‚
â”‚  âŒ ë²ˆë“¤ ìµœì í™” ë¶ˆê°€                                         â”‚
â”‚  âŒ TypeScript ë¯¸ì§€ì›                                        â”‚
â”‚  âŒ IDE ìë™ì™„ì„± ì œí•œ                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.2 ëª©í‘œ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
moonwave-mca/
â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ CNAME
â”‚   â”œâ”€â”€ manifest.json          # PWA ë§¤ë‹ˆí˜ìŠ¤íŠ¸
â”‚   â”œâ”€â”€ sw.js                  # Service Worker
â”‚   â””â”€â”€ icons/                 # PWA ì•„ì´ì½˜
â”‚       â”œâ”€â”€ icon-192.png
â”‚       â””â”€â”€ icon-512.png
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main.ts                # ì—”íŠ¸ë¦¬ í¬ì¸íŠ¸
â”‚   â”œâ”€â”€ App.tsx                # ë©”ì¸ ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ Dashboard/
â”‚   â”‚   â”‚   â”œâ”€â”€ Dashboard.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ FundSummary.tsx
â”‚   â”‚   â”‚   â””â”€â”€ PortfolioCard.tsx
â”‚   â”‚   â”œâ”€â”€ Detail/
â”‚   â”‚   â”‚   â”œâ”€â”€ DetailView.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ ParameterPanel.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ TradeTable.tsx
â”‚   â”‚   â”‚   â””â”€â”€ ExitSimulation.tsx
â”‚   â”‚   â”œâ”€â”€ Chart/
â”‚   â”‚   â”‚   â””â”€â”€ MCAChart.tsx
â”‚   â”‚   â””â”€â”€ common/
â”‚   â”‚       â”œâ”€â”€ Header.tsx
â”‚   â”‚       â”œâ”€â”€ Toast.tsx
â”‚   â”‚       â”œâ”€â”€ Modal.tsx
â”‚   â”‚       â””â”€â”€ Input.tsx
â”‚   â”œâ”€â”€ stores/
â”‚   â”‚   â”œâ”€â”€ portfolioStore.ts  # Zustand ìƒíƒœ ê´€ë¦¬
â”‚   â”‚   â”œâ”€â”€ settingsStore.ts
â”‚   â”‚   â””â”€â”€ uiStore.ts
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”œâ”€â”€ storage.ts         # IndexedDB ë˜í¼
â”‚   â”‚   â”œâ”€â”€ calculation.ts     # MCA ê³„ì‚° ì—”ì§„
â”‚   â”‚   â”œâ”€â”€ export.ts          # ë‚´ë³´ë‚´ê¸° ê¸°ëŠ¥
â”‚   â”‚   â””â”€â”€ sync.ts            # ë°ì´í„° ë™ê¸°í™”
â”‚   â”œâ”€â”€ workers/
â”‚   â”‚   â””â”€â”€ calculation.worker.ts  # Web Worker
â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â”œâ”€â”€ usePortfolio.ts
â”‚   â”‚   â”œâ”€â”€ useCalculation.ts
â”‚   â”‚   â””â”€â”€ useKeyboard.ts
â”‚   â”œâ”€â”€ types/
â”‚   â”‚   â””â”€â”€ index.ts           # TypeScript íƒ€ì… ì •ì˜
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”œâ”€â”€ format.ts
â”‚   â”‚   â”œâ”€â”€ validation.ts
â”‚   â”‚   â””â”€â”€ constants.ts
â”‚   â””â”€â”€ styles/
â”‚       â””â”€â”€ globals.css
â”œâ”€â”€ tests/
â”‚   â”œâ”€â”€ calculation.test.ts
â”‚   â””â”€â”€ components/
â”œâ”€â”€ .github/
â”‚   â””â”€â”€ workflows/
â”‚       â””â”€â”€ deploy.yml
â”œâ”€â”€ index.html
â”œâ”€â”€ vite.config.ts
â”œâ”€â”€ tailwind.config.ts
â”œâ”€â”€ tsconfig.json
â”œâ”€â”€ package.json
â””â”€â”€ README.md
```

### 1.3 ê¸°ìˆ  ìŠ¤íƒ ì„ ì •

| ì¹´í…Œê³ ë¦¬ | ì„ íƒ | ì´ìœ  |
|----------|------|------|
| **ë¹Œë“œ ë„êµ¬** | Vite | ë¹ ë¥¸ HMR, ê°„ë‹¨í•œ ì„¤ì •, ìµœì í™” ë²ˆë“¤ë§ |
| **ì–¸ì–´** | TypeScript | íƒ€ì… ì•ˆì „ì„±, IDE ì§€ì›, ë¦¬íŒ©í† ë§ ìš©ì´ |
| **UI í”„ë ˆì„ì›Œí¬** | Preact | React í˜¸í™˜ API, 3KB ë²ˆë“¤ í¬ê¸° |
| **ìƒíƒœ ê´€ë¦¬** | Zustand | ê°„ë‹¨í•œ API, TypeScript ì§€ì›, 4KB |
| **ìŠ¤íƒ€ì¼ë§** | Tailwind CSS | í˜„ì¬ì™€ ë™ì¼, ë¹Œë“œ ì‹œ ìµœì í™” |
| **ì°¨íŠ¸** | Chart.js | í˜„ì¬ì™€ ë™ì¼, ê²€ì¦ëœ ì•ˆì •ì„± |
| **í…ŒìŠ¤íŠ¸** | Vitest | Vite ë„¤ì´í‹°ë¸Œ, Jest í˜¸í™˜ |

---

## Part 2: PWA (Progressive Web App) ì „í™˜

### 2.1 PWA í•µì‹¬ ê¸°ëŠ¥

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PWA ê¸°ëŠ¥                                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  ğŸ“± í™ˆ í™”ë©´ ì„¤ì¹˜                                             â”‚
â”‚     - ë„¤ì´í‹°ë¸Œ ì•±ì²˜ëŸ¼ ì•„ì´ì½˜ìœ¼ë¡œ ì‹¤í–‰                         â”‚
â”‚     - ë¸Œë¼ìš°ì € UI ì—†ì´ ì „ì²´ í™”ë©´                              â”‚
â”‚     - ìŠ¤í”Œë˜ì‹œ ìŠ¤í¬ë¦°                                        â”‚
â”‚                                                             â”‚
â”‚  ğŸ“´ ì˜¤í”„ë¼ì¸ ì§€ì›                                            â”‚
â”‚     - ì¸í„°ë„· ì—†ì´ ì™„ì „ ë™ì‘                                   â”‚
â”‚     - Service Worker ìºì‹±                                    â”‚
â”‚     - ë°±ê·¸ë¼ìš´ë“œ ë™ê¸°í™”                                      â”‚
â”‚                                                             â”‚
â”‚  ğŸ”” í‘¸ì‹œ ì•Œë¦¼ (ì„ íƒ)                                         â”‚
â”‚     - ì£¼ë¬¸ ì²´ê²° ì•Œë¦¼                                         â”‚
â”‚     - ì¶”ê°€ ì£¼ë¬¸ í•„ìš” ì•Œë¦¼                                    â”‚
â”‚     - ëª©í‘œê°€ ë„ë‹¬ ì•Œë¦¼                                       â”‚
â”‚                                                             â”‚
â”‚  ğŸ”„ ìë™ ì—…ë°ì´íŠ¸                                            â”‚
â”‚     - ìƒˆ ë²„ì „ ê°ì§€                                           â”‚
â”‚     - ë°±ê·¸ë¼ìš´ë“œ ì—…ë°ì´íŠ¸                                    â”‚
â”‚     - ì‚¬ìš©ì ìŠ¹ì¸ í›„ ì ìš©                                    â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 manifest.json

```json
{
  "name": "Moonwave MCA - ë¶„í• ë§¤ìˆ˜ ì „ëµ ê´€ë¦¬",
  "short_name": "MCA",
  "description": "Modified Cost Averaging íˆ¬ì ì „ëµ ê´€ë¦¬ ë„êµ¬",
  "start_url": "/",
  "display": "standalone",
  "background_color": "#0f0f0f",
  "theme_color": "#2563eb",
  "icons": [
    { "src": "/icons/icon-192.png", "sizes": "192x192", "type": "image/png" },
    { "src": "/icons/icon-512.png", "sizes": "512x512", "type": "image/png" }
  ],
  "screenshots": [
    { "src": "/screenshots/dashboard.png", "sizes": "1280x720", "type": "image/png" }
  ],
  "categories": ["finance", "productivity"],
  "orientation": "portrait-primary"
}
```

### 2.3 Service Worker ì „ëµ

```javascript
// ìºì‹œ ìš°ì„ , ë„¤íŠ¸ì›Œí¬ í´ë°± ì „ëµ
const CACHE_NAME = 'mca-v3.0.0';
const STATIC_ASSETS = [
  '/',
  '/index.html',
  '/assets/main.js',
  '/assets/style.css',
  '/manifest.json'
];

// ì„¤ì¹˜ ì‹œ ì •ì  ìì‚° ìºì‹±
self.addEventListener('install', (event) => {
  event.waitUntil(
    caches.open(CACHE_NAME).then((cache) => cache.addAll(STATIC_ASSETS))
  );
});

// ìš”ì²­ ì‹œ ìºì‹œ ìš°ì„ 
self.addEventListener('fetch', (event) => {
  event.respondWith(
    caches.match(event.request).then((cached) => cached || fetch(event.request))
  );
});
```

---

## Part 3: ë°ì´í„° ë ˆì´ì–´ ê°•í™”

### 3.1 LocalStorage â†’ IndexedDB ë§ˆì´ê·¸ë ˆì´ì…˜

| í•­ëª© | LocalStorage | IndexedDB |
|------|-------------|-----------|
| **ìš©ëŸ‰** | ~5MB | ë¬´ì œí•œ (ë””ìŠ¤í¬ 50%ê¹Œì§€) |
| **ë°ì´í„° íƒ€ì…** | ë¬¸ìì—´ë§Œ | ëª¨ë“  íƒ€ì… (Blob, File í¬í•¨) |
| **ì¿¼ë¦¬** | í‚¤ë§Œ ê²€ìƒ‰ | ì¸ë±ìŠ¤ ê¸°ë°˜ ì¿¼ë¦¬ |
| **íŠ¸ëœì­ì…˜** | ë¯¸ì§€ì› | ì§€ì› (ACID) |
| **ì„±ëŠ¥** | ë™ê¸° (UI ë¸”ë¡œí‚¹) | ë¹„ë™ê¸° |

### 3.2 ë°ì´í„° ìŠ¤í‚¤ë§ˆ ì„¤ê³„

```typescript
// types/index.ts
interface Portfolio {
  id: number;
  name: string;
  isFavorite: boolean;
  createdAt: Date;
  updatedAt: Date;
  params: PortfolioParams;
  trades: Trade[];
}

interface PortfolioParams {
  peakPrice: number;
  strength: number;
  startDrop: number;
  steps: number;
  targetBudget: number;
  legacyQty: number;
  legacyAvg: number;
  ma120Price?: number;
  targetMultiple?: number;
  manualTargetPrice?: number;
}

interface Trade {
  id: number;
  portfolioId: number;
  step: number;
  status: 'pending' | 'ordered' | 'executed';
  orderedAt?: Date;
  executedAt?: Date;
  price: number;
  quantity: number;
  amount: number;
  memo?: string;
}

interface Settings {
  darkMode: boolean;
  initialCash: number;
  currency: 'KRW' | 'USD';
  notifications: boolean;
}
```

### 3.3 Dexie.js í™œìš© (IndexedDB ë˜í¼)

```typescript
// services/storage.ts
import Dexie from 'dexie';

class MCADatabase extends Dexie {
  portfolios: Dexie.Table<Portfolio, number>;
  trades: Dexie.Table<Trade, number>;
  settings: Dexie.Table<Settings, string>;

  constructor() {
    super('MoonwaveMCA');

    this.version(1).stores({
      portfolios: '++id, name, isFavorite, updatedAt',
      trades: '++id, portfolioId, step, status, executedAt',
      settings: 'key'
    });
  }
}

export const db = new MCADatabase();
```

---

## Part 4: ìƒˆë¡œìš´ ê¸°ëŠ¥ (API Key ë¶ˆí•„ìš”)

### 4.1 ê³ ê¸‰ ë¶„ì„ ê¸°ëŠ¥

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“Š ê³ ê¸‰ ë¶„ì„ ëŒ€ì‹œë³´ë“œ                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  [1] í¬íŠ¸í´ë¦¬ì˜¤ ë¹„êµ ë¶„ì„                                    â”‚
â”‚      - ë‹¤ì¤‘ ì¢…ëª© ìˆ˜ìµë¥  ë¹„êµ ì°¨íŠ¸                            â”‚
â”‚      - íˆ¬ì… ëŒ€ë¹„ íš¨ìœ¨ì„± ìˆœìœ„                                 â”‚
â”‚      - ë¦¬ìŠ¤í¬ ì§€í‘œ (ìµœëŒ€ ë‚™í­, ë³€ë™ì„±)                       â”‚
â”‚                                                             â”‚
â”‚  [2] êµ¬ê°„ë³„ í†µê³„                                             â”‚
â”‚      - í‰ê·  ì²´ê²° êµ¬ê°„                                        â”‚
â”‚      - êµ¬ê°„ë³„ ì²´ê²° ë¹ˆë„ íˆíŠ¸ë§µ                               â”‚
â”‚      - ìµœì  íŒŒë¼ë¯¸í„° ì¶”ì²œ                                    â”‚
â”‚                                                             â”‚
â”‚  [3] ì‹œë®¬ë ˆì´ì…˜ ê³ ë„í™”                                       â”‚
â”‚      - ê³¼ê±° ë°ì´í„° ê¸°ë°˜ ë°±í…ŒìŠ¤íŠ¸                             â”‚
â”‚      - ì‹œë‚˜ë¦¬ì˜¤ ë¶„ì„ (ê°•ì„¸/ì•½ì„¸/íš¡ë³´)                        â”‚
â”‚      - ëª¬í…Œì¹´ë¥¼ë¡œ ì‹œë®¬ë ˆì´ì…˜                                 â”‚
â”‚                                                             â”‚
â”‚  [4] ìê¸ˆ íë¦„ ë¶„ì„                                          â”‚
â”‚      - ì›”ë³„ íˆ¬ì…/íšŒìˆ˜ ì¶”ì´                                   â”‚
â”‚      - í˜„ê¸ˆ ì†Œì§„ìœ¨ ì˜ˆì¸¡                                      â”‚
â”‚      - ê¸°íšŒë¹„ìš© ê³„ì‚°                                         â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2 í–¥ìƒëœ ë‚´ë³´ë‚´ê¸°/ê°€ì ¸ì˜¤ê¸°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“¤ ë‚´ë³´ë‚´ê¸° ì˜µì…˜                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  [JSON] ì „ì²´ ë°ì´í„° ë°±ì—…                                     â”‚
â”‚         - í¬íŠ¸í´ë¦¬ì˜¤ + ê±°ë˜ ë‚´ì—­ + ì„¤ì •                      â”‚
â”‚         - ì•”í˜¸í™” ì˜µì…˜ (AES-256)                              â”‚
â”‚                                                             â”‚
â”‚  [CSV] ìŠ¤í”„ë ˆë“œì‹œíŠ¸ í˜¸í™˜                                     â”‚
â”‚        - ì¢…ëª©ë³„ ê±°ë˜ ë‚´ì—­                                    â”‚
â”‚        - í†µí•© ìš”ì•½ ë¦¬í¬íŠ¸                                    â”‚
â”‚                                                             â”‚
â”‚  [Excel] ì„œì‹ í¬í•¨ ë¦¬í¬íŠ¸                                    â”‚
â”‚          - SheetJS ë¼ì´ë¸ŒëŸ¬ë¦¬ í™œìš©                           â”‚
â”‚          - ì°¨íŠ¸ í¬í•¨ ë¦¬í¬íŠ¸                                  â”‚
â”‚                                                             â”‚
â”‚  [PDF] í”„ë¦°íŠ¸ìš© ë¦¬í¬íŠ¸                                       â”‚
â”‚        - jsPDF ë¼ì´ë¸ŒëŸ¬ë¦¬ í™œìš©                               â”‚
â”‚        - í¬íŠ¸í´ë¦¬ì˜¤ ìš”ì•½ì„œ                                   â”‚
â”‚        - ì„¸ê¸ˆ ì‹ ê³ ìš© ê±°ë˜ ëª…ì„¸                               â”‚
â”‚                                                             â”‚
â”‚  [QR Code] ê¸°ê¸° ê°„ ë°ì´í„° ì „ì†¡                               â”‚
â”‚            - ë°ì´í„° ì••ì¶• í›„ QR ìƒì„±                          â”‚
â”‚            - ì¹´ë©”ë¼ë¡œ ìŠ¤ìº”í•˜ì—¬ ë³µì›                          â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.3 UX í–¥ìƒ ê¸°ëŠ¥

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âŒ¨ï¸ í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤                                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Ctrl + N     ìƒˆ í¬íŠ¸í´ë¦¬ì˜¤ ì¶”ê°€                            â”‚
â”‚  Ctrl + S     ë°ì´í„° ì €ì¥                                   â”‚
â”‚  Ctrl + E     ë°ì´í„° ë‚´ë³´ë‚´ê¸°                               â”‚
â”‚  Ctrl + Z     ì‹¤í–‰ ì·¨ì†Œ                                     â”‚
â”‚  Ctrl + Y     ë‹¤ì‹œ ì‹¤í–‰                                     â”‚
â”‚  Ctrl + D     ëŒ€ì‹œë³´ë“œë¡œ ì´ë™                               â”‚
â”‚  1-9          í•´ë‹¹ ë²ˆí˜¸ íƒ­ìœ¼ë¡œ ì´ë™                         â”‚
â”‚  â† â†’          ì´ì „/ë‹¤ìŒ í¬íŠ¸í´ë¦¬ì˜¤                          â”‚
â”‚  Space        ì²´ê²° í† ê¸€                                     â”‚
â”‚  /            ê²€ìƒ‰                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ”„ ì‹¤í–‰ ì·¨ì†Œ/ë‹¤ì‹œ ì‹¤í–‰ (Undo/Redo)                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  - ëª¨ë“  ë³€ê²½ ì‚¬í•­ íˆìŠ¤í† ë¦¬ ì €ì¥                             â”‚
â”‚  - ìµœëŒ€ 100ë‹¨ê³„ ë˜ëŒë¦¬ê¸°                                    â”‚
â”‚  - ë¸Œë¼ìš°ì € ì¢…ë£Œ ì‹œì—ë„ ìœ ì§€                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ–±ï¸ ë“œë˜ê·¸ ì•¤ ë“œë¡­                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  - í¬íŠ¸í´ë¦¬ì˜¤ íƒ­ ìˆœì„œ ë³€ê²½                                  â”‚
â”‚  - êµ¬ê°„ ìˆœì„œ ì¬ì •ë ¬                                         â”‚
â”‚  - íŒŒì¼ ë“œë¡­ìœ¼ë¡œ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ” ê²€ìƒ‰ ë° í•„í„°                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  - ì¢…ëª©ëª… ê²€ìƒ‰                                              â”‚
â”‚  - ìƒíƒœë³„ í•„í„° (ì²´ê²°/ì£¼ë¬¸/ëŒ€ê¸°)                             â”‚
â”‚  - ì •ë ¬ ì˜µì…˜ (ì´ë¦„/íˆ¬ì…ê¸ˆì•¡/ìˆ˜ìµë¥ )                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.4 ì•Œë¦¼ ì‹œìŠ¤í…œ (ë¸Œë¼ìš°ì € Notification API)

```typescript
// services/notification.ts
export class NotificationService {
  private permission: NotificationPermission = 'default';

  async requestPermission(): Promise<boolean> {
    if (!('Notification' in window)) return false;
    this.permission = await Notification.requestPermission();
    return this.permission === 'granted';
  }

  notify(title: string, options?: NotificationOptions): void {
    if (this.permission !== 'granted') return;

    const notification = new Notification(title, {
      icon: '/icons/icon-192.png',
      badge: '/icons/badge.png',
      vibrate: [200, 100, 200],
      ...options
    });

    notification.onclick = () => {
      window.focus();
      notification.close();
    };
  }

  // ì¶”ê°€ ì£¼ë¬¸ í•„ìš” ì•Œë¦¼
  orderNeeded(portfolioName: string, gap: number): void {
    this.notify(`ğŸš¨ ${portfolioName}`, {
      body: `ì¶”ê°€ ì£¼ë¬¸ í•„ìš” (${gap}êµ¬ê°„ ê°­)`,
      tag: 'order-needed',
      requireInteraction: true
    });
  }

  // ëª©í‘œê°€ ë„ë‹¬ ì•Œë¦¼
  targetReached(portfolioName: string, price: number): void {
    this.notify(`ğŸ¯ ${portfolioName}`, {
      body: `ëª©í‘œê°€ ${price.toLocaleString()}ì› ë„ë‹¬!`,
      tag: 'target-reached'
    });
  }
}
```

---

## Part 5: ì„±ëŠ¥ ìµœì í™”

### 5.1 Web Workerë¥¼ í™œìš©í•œ ê³„ì‚° ë¶„ë¦¬

```typescript
// workers/calculation.worker.ts
self.onmessage = (e: MessageEvent) => {
  const { type, payload } = e.data;

  switch (type) {
    case 'CALCULATE_MCA':
      const result = calculateMCA(payload);
      self.postMessage({ type: 'MCA_RESULT', payload: result });
      break;

    case 'OPTIMIZE_PARAMS':
      const optimized = optimizeParams(payload);
      self.postMessage({ type: 'OPTIMIZE_RESULT', payload: optimized });
      break;

    case 'BACKTEST':
      const backtestResult = runBacktest(payload);
      self.postMessage({ type: 'BACKTEST_RESULT', payload: backtestResult });
      break;
  }
};

function calculateMCA(params: CalculationParams): CalculationResult {
  // ë©”ì¸ ìŠ¤ë ˆë“œ ë¸”ë¡œí‚¹ ì—†ì´ ë³µì¡í•œ ê³„ì‚° ìˆ˜í–‰
  // ...
}
```

### 5.2 ë²ˆë“¤ ìµœì í™”

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“¦ ë²ˆë“¤ ë¶„í•  ì „ëµ                                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  [Core Bundle] ~50KB gzipped                                â”‚
â”‚  â”œâ”€â”€ main.js (Preact + Zustand + Router)                   â”‚
â”‚  â”œâ”€â”€ style.css (Tailwind ì‚¬ìš©ë¶„ë§Œ)                         â”‚
â”‚  â””â”€â”€ critical.js (ì´ˆê¸° ë Œë”ë§ í•„ìˆ˜)                         â”‚
â”‚                                                             â”‚
â”‚  [Chart Bundle] ~60KB gzipped (ì§€ì—° ë¡œë”©)                   â”‚
â”‚  â”œâ”€â”€ chart.js                                               â”‚
â”‚  â””â”€â”€ chartjs-plugin-datalabels.js                          â”‚
â”‚                                                             â”‚
â”‚  [Export Bundle] ~80KB gzipped (í•„ìš” ì‹œ ë¡œë”©)               â”‚
â”‚  â”œâ”€â”€ xlsx.js (Excel ë‚´ë³´ë‚´ê¸°)                               â”‚
â”‚  â”œâ”€â”€ jspdf.js (PDF ë‚´ë³´ë‚´ê¸°)                                â”‚
â”‚  â””â”€â”€ qrcode.js (QR ì½”ë“œ ìƒì„±)                               â”‚
â”‚                                                             â”‚
â”‚  [Analytics Bundle] ~30KB gzipped (ì§€ì—° ë¡œë”©)               â”‚
â”‚  â””â”€â”€ analytics.js (ê³ ê¸‰ ë¶„ì„ ê¸°ëŠ¥)                          â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.3 ì„±ëŠ¥ ëª©í‘œ

| ì§€í‘œ | í˜„ì¬ | ëª©í‘œ |
|------|------|------|
| **First Contentful Paint** | ~1.2s | <0.5s |
| **Time to Interactive** | ~2.0s | <1.0s |
| **Lighthouse Score** | ~70 | >95 |
| **ë²ˆë“¤ í¬ê¸°** | ~200KB | <100KB (core) |

---

## Part 6: ì ‘ê·¼ì„± ë° êµ­ì œí™”

### 6.1 ì ‘ê·¼ì„± (a11y) ê°œì„ 

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â™¿ ì ‘ê·¼ì„± ì²´í¬ë¦¬ìŠ¤íŠ¸                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  âœ… ARIA ë ˆì´ë¸” ì¶”ê°€                                        â”‚
â”‚  âœ… í‚¤ë³´ë“œ ë„¤ë¹„ê²Œì´ì…˜ ì™„ì „ ì§€ì›                             â”‚
â”‚  âœ… ìƒ‰ìƒ ëŒ€ë¹„ WCAG AA ì¤€ìˆ˜                                  â”‚
â”‚  âœ… ìŠ¤í¬ë¦° ë¦¬ë” í˜¸í™˜                                        â”‚
â”‚  âœ… í¬ì»¤ìŠ¤ í‘œì‹œ ëª…í™•í™”                                      â”‚
â”‚  âœ… í„°ì¹˜ íƒ€ê²Ÿ ìµœì†Œ 44px                                     â”‚
â”‚  âœ… ì• ë‹ˆë©”ì´ì…˜ ê°ì†Œ ëª¨ë“œ ì§€ì›                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 6.2 êµ­ì œí™” (i18n) ì¤€ë¹„

```typescript
// í–¥í›„ ë‹¤êµ­ì–´ ì§€ì›ì„ ìœ„í•œ êµ¬ì¡°
const i18n = {
  ko: {
    dashboard: {
      title: 'ëŒ€ì‹œë³´ë“œ',
      totalInvested: 'ì´ íˆ¬ì… ê¸ˆì•¡',
      remainingCash: 'ì‚¬ìš© ê°€ëŠ¥ í˜„ê¸ˆ'
    },
    detail: {
      title: 'ê°œë³„ê´€ë¦¬',
      peakPrice: 'ê¸°ì¤€ ê³ ì ',
      strength: 'íˆ¬ì ê°•ë„'
    }
  },
  en: {
    dashboard: {
      title: 'Dashboard',
      totalInvested: 'Total Invested',
      remainingCash: 'Available Cash'
    }
  }
};
```

---

## Part 7: ë³´ì•ˆ ê°•í™”

### 7.1 ë°ì´í„° ì•”í˜¸í™” (ì„ íƒì )

```typescript
// services/encryption.ts
import { AES, enc } from 'crypto-js';

export class EncryptionService {
  private key: string;

  constructor(password: string) {
    this.key = this.deriveKey(password);
  }

  private deriveKey(password: string): string {
    // PBKDF2 í‚¤ ìœ ë„
    return SHA256(password + 'moonwave-mca-salt').toString();
  }

  encrypt(data: string): string {
    return AES.encrypt(data, this.key).toString();
  }

  decrypt(encrypted: string): string {
    const bytes = AES.decrypt(encrypted, this.key);
    return bytes.toString(enc.Utf8);
  }
}

// ì‚¬ìš© ì˜ˆ
const crypto = new EncryptionService(userPassword);
const encryptedBackup = crypto.encrypt(JSON.stringify(data));
```

### 7.2 CSP (Content Security Policy)

```html
<meta http-equiv="Content-Security-Policy" content="
  default-src 'self';
  script-src 'self' 'unsafe-inline' https://cdn.tailwindcss.com https://cdn.jsdelivr.net;
  style-src 'self' 'unsafe-inline' https://fonts.googleapis.com;
  font-src 'self' https://fonts.gstatic.com;
  img-src 'self' data: blob:;
  connect-src 'self';
">
```

---

## Part 8: êµ¬í˜„ ë¡œë“œë§µ

### Phase 1: ê¸°ë°˜ êµ¬ì¶• (Week 1-2)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Week 1-2: í”„ë¡œì íŠ¸ ì„¤ì •                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â˜ Vite + TypeScript í”„ë¡œì íŠ¸ ìƒì„±                          â”‚
â”‚  â˜ Tailwind CSS ì„¤ì •                                        â”‚
â”‚  â˜ ESLint + Prettier ì„¤ì •                                   â”‚
â”‚  â˜ Vitest í…ŒìŠ¤íŠ¸ í™˜ê²½ êµ¬ì„±                                  â”‚
â”‚  â˜ GitHub Actions CI/CD ì—…ë°ì´íŠ¸                            â”‚
â”‚  â˜ ê¸°ì¡´ ë¡œì§ TypeScript ë§ˆì´ê·¸ë ˆì´ì…˜                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Phase 2: í•µì‹¬ ê¸°ëŠ¥ (Week 3-4)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Week 3-4: í•µì‹¬ ê¸°ëŠ¥ êµ¬í˜„                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â˜ ì»´í¬ë„ŒíŠ¸ ë¶„ë¦¬ (Dashboard, Detail, Chart)                 â”‚
â”‚  â˜ Zustand ìƒíƒœ ê´€ë¦¬ êµ¬í˜„                                   â”‚
â”‚  â˜ IndexedDB ë§ˆì´ê·¸ë ˆì´ì…˜ (Dexie.js)                        â”‚
â”‚  â˜ MCA ê³„ì‚° ì—”ì§„ ë¶„ë¦¬ ë° ìµœì í™”                             â”‚
â”‚  â˜ ê¸°ì¡´ v2.0 ë°ì´í„° ë§ˆì´ê·¸ë ˆì´ì…˜ ë¡œì§                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Phase 3: PWA ì „í™˜ (Week 5-6)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Week 5-6: PWA ê¸°ëŠ¥                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â˜ manifest.json ì‘ì„±                                       â”‚
â”‚  â˜ Service Worker êµ¬í˜„                                      â”‚
â”‚  â˜ ì˜¤í”„ë¼ì¸ ì§€ì›                                            â”‚
â”‚  â˜ ì„¤ì¹˜ í”„ë¡¬í”„íŠ¸ UI                                         â”‚
â”‚  â˜ ìë™ ì—…ë°ì´íŠ¸ ë¡œì§                                       â”‚
â”‚  â˜ ë¸Œë¼ìš°ì € ì•Œë¦¼ í†µí•©                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Phase 4: ê³ ê¸‰ ê¸°ëŠ¥ (Week 7-8)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Week 7-8: ê³ ê¸‰ ê¸°ëŠ¥                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â˜ Web Worker ê³„ì‚° ë¶„ë¦¬                                     â”‚
â”‚  â˜ í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤                                            â”‚
â”‚  â˜ Undo/Redo ì‹œìŠ¤í…œ                                         â”‚
â”‚  â˜ ë“œë˜ê·¸ ì•¤ ë“œë¡­                                           â”‚
â”‚  â˜ ê³ ê¸‰ ë‚´ë³´ë‚´ê¸° (CSV, Excel, PDF)                          â”‚
â”‚  â˜ QR ì½”ë“œ ë°ì´í„° ì „ì†¡                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Phase 5: ìµœì í™” ë° ì¶œì‹œ (Week 9-10)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Week 9-10: ìµœì í™” ë° ì¶œì‹œ                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â˜ ë²ˆë“¤ ìµœì í™” (ì½”ë“œ ë¶„í• , íŠ¸ë¦¬ ì…°ì´í‚¹)                     â”‚
â”‚  â˜ Lighthouse ì ìˆ˜ 95+ ë‹¬ì„±                                 â”‚
â”‚  â˜ ì ‘ê·¼ì„± ê²€ì¦                                              â”‚
â”‚  â˜ í¬ë¡œìŠ¤ ë¸Œë¼ìš°ì € í…ŒìŠ¤íŠ¸                                   â”‚
â”‚  â˜ ë² íƒ€ í…ŒìŠ¤íŠ¸                                              â”‚
â”‚  â˜ í”„ë¡œë•ì…˜ ë°°í¬                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Part 9: ë§ˆì´ê·¸ë ˆì´ì…˜ ì „ëµ

### 9.1 v2.0 â†’ v3.0 ë°ì´í„° í˜¸í™˜

```typescript
// services/migration.ts
export async function migrateFromV2(): Promise<void> {
  const v2Data = localStorage.getItem('Moonwave_MCA_v12_Data');
  if (!v2Data) return;

  const parsed = JSON.parse(v2Data);

  // v2 í˜•ì‹ì„ v3 í˜•ì‹ìœ¼ë¡œ ë³€í™˜
  for (const portfolio of parsed.portfolios) {
    const newPortfolio: Portfolio = {
      id: portfolio.id,
      name: portfolio.name,
      isFavorite: portfolio.isFavorite,
      createdAt: new Date(portfolio.id), // IDê°€ íƒ€ì„ìŠ¤íƒ¬í”„
      updatedAt: new Date(),
      params: {
        peakPrice: parseNumber(portfolio.params.peakPrice),
        strength: parseFloat(portfolio.params.strength),
        startDrop: parseFloat(portfolio.params.startDrop),
        steps: parseInt(portfolio.params.steps),
        targetBudget: parseNumber(portfolio.params.targetBudget),
        legacyQty: parseNumber(portfolio.params.legacyQty),
        legacyAvg: parseNumber(portfolio.params.legacyAvg)
      },
      trades: []
    };

    // ê±°ë˜ ë‚´ì—­ ë³€í™˜
    for (const step of portfolio.orderedSteps || []) {
      newPortfolio.trades.push({
        id: Date.now() + step,
        portfolioId: portfolio.id,
        step,
        status: portfolio.executedSteps?.includes(step) ? 'executed' : 'ordered',
        // ... ê³„ì‚°ëœ ê°€ê²©, ìˆ˜ëŸ‰, ê¸ˆì•¡
      });
    }

    await db.portfolios.add(newPortfolio);
  }

  // ë§ˆì´ê·¸ë ˆì´ì…˜ ì™„ë£Œ í‘œì‹œ
  localStorage.setItem('MCA_V3_MIGRATED', 'true');
}
```

### 9.2 ë¡¤ë°± ê³„íš

```
ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹¤íŒ¨ ì‹œ:
1. IndexedDB ë°ì´í„° ì‚­ì œ
2. LocalStorage ë°ì´í„° ìœ ì§€
3. v2.0 ëª¨ë“œë¡œ í´ë°±
4. ì‚¬ìš©ìì—ê²Œ ì•Œë¦¼
```

---

## Part 10: ì„±ê³µ ì§€í‘œ

### 10.1 ê¸°ìˆ  ì§€í‘œ

| ì§€í‘œ | ê¸°ì¤€ |
|------|------|
| Lighthouse Performance | â‰¥ 95 |
| Lighthouse Accessibility | â‰¥ 95 |
| Lighthouse Best Practices | â‰¥ 95 |
| Lighthouse PWA | âœ… |
| Core Web Vitals | ëª¨ë‘ Green |
| ë²ˆë“¤ í¬ê¸° (gzipped) | < 100KB (core) |
| í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ | â‰¥ 80% |

### 10.2 ì‚¬ìš©ì ê²½í—˜ ì§€í‘œ

| ì§€í‘œ | ê¸°ì¤€ |
|------|------|
| ì˜¤í”„ë¼ì¸ ë™ì‘ | ì™„ì „ ì§€ì› |
| ì•± ì„¤ì¹˜ìœ¨ | ì¸¡ì • ì‹œì‘ |
| í˜ì´ì§€ ë¡œë“œ ì‹œê°„ | < 1ì´ˆ |
| ì‚¬ìš©ì ì´íƒˆë¥  | ëª¨ë‹ˆí„°ë§ |

---

## ê²°ë¡ 

### v3.0 í•µì‹¬ ì°¨ë³„í™” í¬ì¸íŠ¸

1. **PWA**: ë„¤ì´í‹°ë¸Œ ì•± ê²½í—˜ (ì„¤ì¹˜, ì˜¤í”„ë¼ì¸, ì•Œë¦¼)
2. **ì„±ëŠ¥**: Web Worker + ì½”ë“œ ë¶„í• ë¡œ ë¹ ë¥¸ ì‘ë‹µ
3. **ì•ˆì •ì„±**: TypeScript + í…ŒìŠ¤íŠ¸ë¡œ ë²„ê·¸ ë°©ì§€
4. **í™•ì¥ì„±**: ëª¨ë“ˆí˜• êµ¬ì¡°ë¡œ ê¸°ëŠ¥ ì¶”ê°€ ìš©ì´
5. **ë³´ì•ˆ**: ë°ì´í„° ì•”í˜¸í™” ì˜µì…˜
6. **UX**: í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤, Undo/Redo, ë“œë˜ê·¸ ì•¤ ë“œë¡­

### ë‹¤ìŒ ë‹¨ê³„

1. ì´ ì „ëµ ë¬¸ì„œ ìŠ¹ì¸
2. Phase 1 (ê¸°ë°˜ êµ¬ì¶•) ì‹œì‘
3. ë‹¨ê³„ë³„ ì§„í–‰ ìƒí™© ë¦¬ë·°

---

*ë¬¸ì„œ ë²„ì „: 1.0*
*ì‘ì„±ì¼: 2026-01-23*
